{
  "name": "TMI Server",
  "description": "Collaborative Threat Modeling Interface (TMI) API Server",
  "repository": "https://github.com/YOUR_USERNAME/tmi",
  "keywords": ["go", "threat-modeling", "security", "collaboration", "websocket"],
  "buildpacks": [
    {
      "url": "heroku/go"
    }
  ],
  "env": {
    "GO_INSTALL_PACKAGE_SPEC": {
      "description": "Specifies which Go package to build (only tmiserver binary)",
      "value": "github.com/ericfitz/tmi/cmd/server",
      "required": true
    },
    "GOVERSION": {
      "description": "Go version to use",
      "value": "go1.24.2",
      "required": false
    },
    "SERVER_PORT": {
      "description": "Port the server will listen on (Heroku sets this automatically via $PORT)",
      "value": "8080",
      "required": false
    },
    "SERVER_INTERFACE": {
      "description": "Network interface to bind to",
      "value": "0.0.0.0",
      "required": false
    },
    "LOGGING_LEVEL": {
      "description": "Logging level (debug, info, warn, error)",
      "value": "info",
      "required": false
    },
    "LOGGING_IS_DEV": {
      "description": "Enable development mode logging",
      "value": "false",
      "required": false
    },
    "POSTGRES_HOST": {
      "description": "PostgreSQL database host (use Heroku Postgres addon)",
      "required": true
    },
    "POSTGRES_PORT": {
      "description": "PostgreSQL database port",
      "value": "5432",
      "required": false
    },
    "POSTGRES_USER": {
      "description": "PostgreSQL database user",
      "required": true
    },
    "POSTGRES_PASSWORD": {
      "description": "PostgreSQL database password",
      "required": true
    },
    "POSTGRES_DATABASE": {
      "description": "PostgreSQL database name",
      "required": true
    },
    "POSTGRES_SSL_MODE": {
      "description": "PostgreSQL SSL mode (require for Heroku Postgres)",
      "value": "require",
      "required": false
    },
    "REDIS_HOST": {
      "description": "Redis host (use Heroku Redis addon)",
      "required": true
    },
    "REDIS_PORT": {
      "description": "Redis port",
      "value": "6379",
      "required": false
    },
    "REDIS_PASSWORD": {
      "description": "Redis password",
      "required": false
    },
    "JWT_SECRET": {
      "description": "JWT signing secret (use a strong random value)",
      "generator": "secret",
      "required": true
    },
    "JWT_EXPIRATION_SECONDS": {
      "description": "JWT expiration time in seconds",
      "value": "3600",
      "required": false
    },
    "JWT_SIGNING_METHOD": {
      "description": "JWT signing method (HS256, RS256, etc)",
      "value": "HS256",
      "required": false
    },
    "OAUTH_CALLBACK_URL": {
      "description": "OAuth callback URL for authentication",
      "required": true
    },
    "SERVER_TLS_ENABLED": {
      "description": "Enable TLS (Heroku provides TLS at the load balancer)",
      "value": "false",
      "required": false
    }
  },
  "addons": [
    {
      "plan": "heroku-postgresql:essential-0",
      "as": "DATABASE"
    },
    {
      "plan": "heroku-redis:mini",
      "as": "REDIS"
    }
  ],
  "formation": {
    "web": {
      "quantity": 1,
      "size": "basic"
    }
  }
}
